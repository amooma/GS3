# AUTO-GENERATED BY GEMEINSCHAFT
# template:
# /var/lib/gemeinschaft/setup/etc-dhcp3-dhcpd.conf-tpl

option subnet-mask 255.255.255.0;
option broadcast-address 192.168.1.255;
option routers 192.168.1.1;
option domain-name-servers 192.168.1.1;
option ntp-servers 192.168.1.130;

default-lease-time  600000;
max-lease-time     7200000;

ddns-update-style none;

option space OptiIpPhone;
option OptiIpPhone.magic   code 1 = string;
option OptiIpPhone.vlanid  code 2 = unsigned integer 32;
option OptiIpPhone.dls     code 3 = string;

class "Snom" {
	match if substring(hardware, 1, 3) = 00:04:13;
	
	option tftp-server-name "http://192.168.1.130:80";
	option bootfile-name "gemeinschaft/prov/snom/settings.php?mac={mac}";
	
	default-lease-time 6048000;  # 70 days
	max-lease-time     6912000;  # 80 days
}

class "SiemensPhone" {
	match if substring(hardware, 1, 3) = 00:01:E3;
	
	vendor-option-space        OptiIpPhone;
	option OptiIpPhone.magic   53:69:65:6D:65:6E:73:00:00:00;
	option OptiIpPhone.dls     "sdlp://192.168.1.130:18443";
	
	default-lease-time 6048000;  # 70 days
	max-lease-time     6912000;  # 80 days
}

class "PolycomSoundPoint" {
	match if substring(hardware, 1, 3) = 00:04:F2;
	
	option tftp-server-name "http://192.168.1.130:80/gemeinschaft/prov/polycom/";
	
	default-lease-time 6048000;  # 70 days
	max-lease-time     6912000;  # 80 days
}
class "PolycomSoundStation" {
	match if substring(hardware, 1, 3) = 00:E0:75;
	
	option tftp-server-name "http://192.168.1.130:80/gemeinschaft/prov/polycom/";
	
	default-lease-time 6048000;  # 70 days
	max-lease-time     6912000;  # 80 days
}

subnet 192.168.1.0 netmask 255.255.255.0 {
	default-lease-time 1036800;  # 12 days
	max-lease-time     1296000;  # 15 days
	option subnet-mask 255.255.255.0;
	
	range 192.168.1.2 192.168.1.129;
	range 192.168.1.131 192.168.1.254;	
}
